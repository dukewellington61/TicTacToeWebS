add scrolling to chat window --- solved

check if after socket disconnect and new socket replace old socket chat functionality still works proper --- solved

another problem: all the message for disconnect aren't displayed except when triggered by timeout. --- solved

if only one player player info don't show the according infos. --- solved

function logout() logout fires only, if socket has be reconnected and then times out, not if it is the first load and then times out -- wtf?!? --- solved

logged out player is beeing reconnected if the other socket connects or reconnects because of function call in conditionals in function roomsAndPlayaz. --- solved

after play game and won start button shows up on second socket and doesn't disappear on click

personalize that shit:
instead of 'player such and suchs turn' --- 'opponent's name turn' or 'your turn, name'
instead of 'game over: player ...has won' --- 'game over: you or oppenent's name has won respectively

it says 'two players connected' but there is only one player.

on finish input name there should be your playing agains name of opponent

make name input mandatory - on opening app input field pops up to make it clear to user that name has to be entered befor game can begin.

notify players about disconnect or new connect

what if: two players in a room, one player gets disconnected on timeout 
1 is the other player still connected?
2 is the other player notified about the disconnect?
3 can another player enter the room?

if one socket is disconnected on timeout (doesn't have to be on timeout - normal disconnect does the same thing), if I click a button on the other socket I get:

home/theironduke/webdev/JS_Kurs/Teil_4/TicTacToeWebS/server.js:93
          obj.player2.emit('enableClient1');        
                      ^

TypeError: Cannot read property 'emit' of undefined
   etc....

this shouldn't happen because this line is wrapped in a conditional that ensures the existence of obj.player2 (and obj.player1 for that matter).



function logout() logout fires only, if socket has be reconnected and then times out, not if it is the first load and then times out -- wtf?!? --- solved
 
solution to the above mentioned problem created a new problem: due to immediate reload on open window conditional 1 and 3 fire and both positions in obj and arr are taken 

possible solution: re-implement routine that has been used in previous version (no gamerooms, viewerArray) to ensure that on browser refresh same position in array is taken.



if open tab --> reload creates obj.player2 --> if implement function delete obj.player2 it fires always. so if I open second tab (obj.player2) it gets deleted as well. 

how can I avoid that?.....

if obj.player1 already exists don't delete second socket

At first I couldn't find a solution to the above mentioned problem

I turned to a completely different aproach in order to properly implement the disconnect idle socket functionality by moving it outside the gameRoom object (and into the socket.on('connect',...) section)
using the roomsArray to address the correct instance of the gameRoom object:

for (let = 1; i < roomsArray.length; i++) {
   if (roomsArray[i].player1.id === id) delete roomsArray[i].player1;
   if (roomsArray[i].player2.id === id) delete roomsArray[i].player2;
};

The next step is to give me a blank gamefield (no Xs and Os) on idle socket disconnect --- solved

I have created a method userArray in gameRoom.obj which creates an userArray. This was necessary because I have turned function fnPlayerDisconnect into a method of gameRoom.obj and the original arr 
which contained the users wasn't accessible from inside this method. Now I am trying to delete userArray elements in accordance with obj.player1 and obj.player2 but so far only one of the 2 elements
is beeing deleted.

I've solved the problem by simply calling the userArray method from the function playerDisconnect after this function has executed the deletes of player1 and player2. This way the userArray method
creates an userArray which doesn't contain anything.

So now on idle socket disconnect the gamefield is cleared and chatting is no longer possible.

Next Problem detected: 

after reload socket which has been disconnected on idle socket the chat function doesn't work proberly any more. this doesn't happen if the browser tab is refreshed (no disconnect on idle socket) but 
the name of player1 in player2's chat window is in quotation marks for some reason.

what are the problems?: 

the player names are not beeing retrieved from session storage  - not true -> they are retrieved but not passed to server and stored in users object (I think)

If the name has to be entered everytime the browser tab is loaded (first load and reload) that wouldn't be a problem

Next step: enter name before start game is mandatory and name is not beeing stored in session Storage

the above has been partly established but if a player is disconnected on idle socket no name entering should be possible. --- solved



big fat bug: If only player1 exists and enters his name the app breaks with the following: 
/home/theironduke/webdev/JS_Kurs/Teil_4/TicTacToeWebS/server.js:58
      if (!obj[obj.player1.id] || !obj[obj.player2.id]) return;
                                                   ^

TypeError: Cannot read property 'id' of undefined

---- solved

at the moment before name is entered there is no user info at all. add 'Please enter your name' to user info.

also. on disconnect idle socket welcome field and start button are to disappear -- solved



timer which notifies user about the how long until time out. --- solved


your opponent has disconnected is beeing displayed even if a new player has entered the gameRoom. --- solved


player2 if inactivity warning is getting interrupted it is still displayed with the last value before interruption

trying to set a conditional: if (durationInSeconds < 11 && name.hasBeenEntered === false) enterNameMessage();  
but durationInSeconds is always 15 when reset function is called.

I think I might need an switch which is triggered if durationInSeconds < 11.




